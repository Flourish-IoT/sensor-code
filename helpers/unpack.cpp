#include <stdio.h>
#include <stdint.h>
#include <string>

struct Network {
	int32_t rssi;
	char ssid[32];
	uint8_t encryptionType;
};

struct NetworkPacket {
	int8_t count;
	Network networks[(512 - sizeof(int8_t))/sizeof(Network)];
};

int32_t main() {
	char bytes[sizeof(NetworkPacket)] = {10, 0, 0, 0, 199, 255, 255, 255, 70, 105, 111, 115, 45, 53, 99, 74, 102, 72, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 188, 255, 255, 255, 83, 117, 110, 110, 121, 118, 97, 108, 101, 32, 84, 114, 97, 105, 108, 101, 114, 32, 80, 97, 114, 107, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 183, 255, 255, 255, 66, 97, 114, 105, 110, 103, 32, 50, 110, 100, 32, 70, 108, 111, 111, 114, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 176, 255, 255, 255, 72, 80, 45, 80, 114, 105, 110, 116, 45, 50, 67, 45, 69, 78, 86, 89, 32, 52, 53, 48, 48, 32, 115, 101, 114, 105, 101, 115, 0, 0, 0, 0, 4, 0, 0, 0, 171, 255, 255, 255, 77, 111, 98, 115, 116, 121, 108, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 169, 255, 255, 255, 70, 105, 79, 83, 45, 65, 49, 57, 66, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 169, 255, 255, 255, 70, 105, 79, 83, 45, 49, 50, 51, 51, 69, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 168, 255, 255, 255, 72, 111, 111, 108, 105, 103, 97, 110, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 165, 255, 255, 255, 70, 105, 79, 83, 45, 83, 51, 67, 54, 82, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 165, 255, 255, 255, 97, 112, 116, 32, 55, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
	NetworkPacket* packet = (NetworkPacket*) bytes;
	printf("Number of networks: %i\n", packet->count);

	for (size_t i = 0; i < packet->count; i++)
	{
		Network net = packet->networks[i];
		printf("Network: %s\n", net.ssid);
		printf("Signal: %i dBm\n", net.rssi);
		printf("encryption type: %i\n", net.encryptionType);
	}
}